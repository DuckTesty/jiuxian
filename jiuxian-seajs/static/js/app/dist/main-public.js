/*jiuxian-0.1.0  2017-04-25 15:54:04*/

define("../js/app/dist/main-public",["../src/public.js","jquery","../../common/api","../../common/utility"],function(a,b,c){a("../src/public");var d=a("../../common/api"),e=(a("../../common/utility"),{url:"http://bundlingsale.jd.com/json/bundlingSaleConsignee/getNameById.action",body:{provinceId:1,cityId:72,countyId:2839}});d.json_ajax(e).done(function(a){console.log(a)}).fail(function(a){console.log(a)});var f={url:"//p.3.cn/prices/mgets",body:{skuIds:"J_1679083129",type:1},async:!1};d.jsonp_ajax(f).done(function(a){console.log(a)}).fail(function(a){console.log(a)})}),define("../js/app/src/public",["jquery"],function(a,b,c){function d(){h("#rSidebarCart").removeClass("on"),h("#rsCartBox").hide(),h("#rsCartBox").attr("flag","hide")}function e(){var a=h(".rsCartTable .rsCartItem").length;h("#amountAll b").text(a);var b=0;h(".rsCartTable .rsCartItem").each(function(){b=Number(h(this).find(".info03").text().substring(1))*parseInt(h(this).find(".comAmount span").text()),j+=b}),h("#priAll span").text(j)}function f(a){a=a||window.event;var b=h.trim(h("#search-form").val());if(""===b)return!1;if((a.which>=48&&a.which<=57||a.which>=96&&a.which<=105||a.which>=65&&a.which<=90||8==a.which||46==a.which||13==a.which||32==a.which)&&b.length>0){(new Date).getTime();h.support.cors=!0,h.ajax({type:"POST",url:"http://list.jiuxian.com/associate.htm?t="+(new Date).getTime(),data:{wd:b},dataType:"json",success:function(a){if(null===a)return null;if(""!==a.resultList){h("#searchCon").show();for(var b="<ul>",c=a.resultList,d=0;d<c.length;d++)b+='<li class="clearfix"><a href="'+c[d].url+'"><span>'+c[d].name+"</span><em>约<b>"+c[d].count+"</b>件商品</em></a></li>";b+="</ul>",b+='<div class="bot clearfix"><span class="search-close"><i></i></span></div>',h("#searchCon").empty().html(b)}else h("#searchCon").hide()}})}}function g(a){switch(a.which){case 38:h("#searchCon li").hasClass("on")?h("#searchCon li.on").removeClass("on").prev().addClass("on"):h("#searchCon li:last").addClass("on"),h("#search-form").val(h("#searchCon li.on span").text());break;case 40:h("#searchCon li").hasClass("on")?h("#searchCon li.on").removeClass("on").next().addClass("on"):h("#searchCon li:first").addClass("on"),h("#search-form").val(h("#searchCon li.on span").text());break;case 13:h("#search-form").val(h("#searchCon li.on span").text());var b=h("#searchCon li.on").find("a").attr("href");h("#searchCon").empty().hide(),h("#search-form").focus(),window.location.href=b}}var h=a("jquery");h(".gotoTop").bind("click",function(){h("html,body").animate({scrollTop:0},500)}),h(".sidebarClose").bind("click",function(a){h(this).parent().hide(),h(this).parents(".rSidebarItem").removeClass("on"),a.stopPropagation()}),h(".sidebarUserLogin").bind({mouseenter:function(){var a=h(this).attr("box");h(this).show(),h("."+a).addClass("on")},mouseleave:function(){var a=h(this).attr("box");h(this).hide(),h("."+a).removeClass("on")}}),h(".rightSidebarCon .collect").bind({mouseenter:function(){if("hide"==h("#rsCartBox").attr("flag")){var a=h(this).offset().top;h(".sidebarUserLogin").show();var b=h(this).attr("name");h(".sidebarUserLogin").css("top",a-h(document).scrollTop()).attr("box",b)}h(this).addClass("on")},mouseleave:function(){h(this).removeClass("on"),h(this).find(".rsItemCon").hide(),h(".sidebarUserLogin").hide()}}),h(".rightSidebarCon .collect").bind("click",function(){if("show"==h("#rsCartBox").attr("flag")){var a=h(this).offset().top;h(".sidebarUserLogin").show();var b=h(this).attr("name");h(".sidebarUserLogin").css("top",a-h(document).scrollTop()).attr("box",b),d()}}),h(".rightSidebarCon .user").bind({mouseenter:function(){"hide"==h("#rsCartBox").attr("flag")?(h(this).find(".rsItemCon").show(),h(this).find("#sidUserLogin").hide(),h(this).find("#sidUserLoginNot").show(),h(this).find(".opeNews .opeNews-amount").hide()):h(this).find(".rsItemCon").hide(),h(this).addClass("on"),h(".infoNumber").hide()},mouseleave:function(){h(this).removeClass("on"),h(this).find(".rsItemCon").hide(),h(".infoNumber").show()}}),h(".rightSidebarCon .user").bind("click",function(){h(this).find(".rsItemCon").show(),d()}),h(".rightSidebarBot .feedback").bind({mouseenter:function(){h(this).addClass("on"),"hide"==h(".sidebarUserLogin").attr("flag02")?h(this).find(".rsItemCon").show():h(this).find(".rsItemCon").hide()},mouseleave:function(){h(this).removeClass("on"),h(this).find(".rsItemCon").hide(),h(".sidebarUserLogin").hide(),h(".sidebarUserLogin").attr("flag02","hide")}}),h(".rightSidebarBot .feedback").bind("click",function(){if("show"==h("#rsCartBox").attr("flag"))if(d(),"hide"==h(".sidebarUserLogin").attr("flag02")){var a=h(this).offset().top;h(".sidebarUserLogin").show();var b=h(this).attr("name");h(".sidebarUserLogin").css("top",a-h(document).scrollTop()+"px").attr("box",b),h(this).find(".rsItemCon").hide(),h(".sidebarUserLogin").attr("flag02","show")}else h(".sidebarUserLogin").hide(),h(this).find(".rsItemCon").show(),h(".sidebarUserLogin").attr("flag02","hide")}),h(".research-close").bind("click",function(){h(this).parent().hide()}),h(".rightSidebarBot .code,.rightSidebarBot .backTop").bind({mouseenter:function(){h(this).addClass("on"),h(this).find(".rsItemCon").show()},mouseleave:function(){h(this).removeClass("on"),h(this).find(".rsItemCon").hide()}}),h(".rightSidebarCon .cart").bind({mouseenter:function(){h(this).addClass("on")},mouseleave:function(){"hide"==h("#rsCartBox").attr("flag")?h(this).removeClass("on"):h(this).addClass("on")}}),h("#rSidebarCart").bind("click",function(a){"hide"==h("#rsCartBox").attr("flag")?(h(this).addClass("on"),h("#rsCartBox").show(),h("#rsCartBox").attr("flag","show")):d(),a.stopPropagation()}),h("#rsCartBox").bind("mouseenter",function(){h("#rSidebarCart").addClass("on")}),h(".rightSidebarBox").bind("click",function(a){a.stopPropagation()}),h(document).bind("click",function(){d()}),h("#rsCartBox .rsCartClose,.rightSidebarBot .code,.rightSidebarBot .backTop").bind("click",function(){d()});var i=h(window).height();h("#rsCartBox").css("height",i+"px"),h("#rsCartBox .rsCartTabBox").css("height",i-203+"px"),h(".rightSidebar").css("height",i+"px"),h(window).bind("resize",function(){var a=h(window).height();h("#rsCartBox").css("height",a+"px"),h("#rsCartBox .rsCartTabBox").css("height",a-203+"px"),h(".rightSidebar").css("height",a+"px")}),h(".rsCartTable > .rsCartItem").bind({mouseenter:function(){h(this).find(".comAmount a").show(),h(this).find(".rsCartItem-del").show(),h(this).css("background","#f8f8f8")},mouseleave:function(){h(this).find(".comAmount a").hide(),h(this).find(".rsCartItem-del").hide(),h(this).css("background","none")}}),h(".rsCartTable .rsCartComb").bind({mouseenter:function(){h(this).find(".rsCartItem-del").show()},mouseleave:function(){h(this).find(".rsCartItem-del").hide()}});var j=0;e(),h(".rsCartItem-del").bind("click",function(){h(this).parent(".rsCartItem,.rsCartComb").remove(),0===h(".rsCartTable .rsCartItem").length?(h("#rsCartTable").hide(),h("#rsCartEmpty").show(),h(".rsCartTotal").hide(),h(".rsCartBut").hide()):(h("#rsCartTable").show(),h("#rsCartEmpty").hide()),j=0,e()}),h(".rsCartItem").each(function(){var a=h(this).find(".comAmount span").text();1==a&&h(this).find(".comAmount .minus").addClass("on"),99==a&&h(this).find(".comAmount .plus").addClass("on")}),h(".comAmount .minus").bind("click",function(){var a=h(this).siblings("span").text();a>1&&(a--,h(this).siblings("span").text(a),1==a&&h(this).addClass("on"),a<99&&h(this).siblings(".plus").removeClass("on")),j=0,e()}),h(".comAmount .plus").bind("click",function(){var a=h(this).siblings("span").text();a<99&&(a++,h(this).siblings("span").text(a),99==a&&h(this).addClass("on"),a>1&&h(this).siblings(".minus").removeClass("on")),j=0,e()}),h(".topHeaderRight .hd-n1,.topHeaderRight .hd-n8").bind({mouseenter:function(){h(this).addClass("on")},mouseleave:function(){h(this).removeClass("on")}}),h(".headerSearch .search-form").val("一坛香"),h(".headerSearch .search-form").focus(function(a){"一坛香"==h.trim(h(this).val())&&h(this).val("")}),h(".headerSearch .search-form").blur(function(a){""===h.trim(h(this).val())&&h(this).val("一坛香")}),h(".headerSearch .search-form").keyup(f),h(".headerSearch .search-form").keydown(g),h(".headerSearch .searchCon").bind("mouseleave",function(){h(this).hide()}),h(".search-close").on("click",function(){h(this).parents(".searchCon").hide()}),h(".categoryBox li").mouseenter(function(){var a=h(this).parents(".navCategoryMenu"),b=h(".categoryBox li").index(h(this));h(this).addClass("on"),a.find(".menuBox").hide(),a.find(".menuBox").eq(b).show();var c=0;a.find(".menuBox").eq(b).find(".menuItem").each(function(){c+=h(this).height()}),470-c>=0?a.find(".menuBox").eq(b).find(".menuHeight .menuCon-list").css("height",470-c+"px"):a.find(".menuBox").eq(b).find(".menuHeight .menuCon-list").css("height","0px")}),h(".categoryBox li").mouseleave(function(a){h(this).removeClass("on"),h(".menuBox").hide()}),h(".menuBox").mouseenter(function(a){var b=h(".menuBox").index(h(this));h(this).show(),h(".categoryBox li").eq(b).addClass("on")}),h(".menuBox").mouseleave(function(a){h(".categoryBox li").removeClass("on"),h(this).hide()}),h(".menuCon-filter .filter").bind("click",function(){h(this).addClass("on"),h(this).siblings(".filter").removeClass("on")});var k=22*Math.ceil(h(".menuCon-brand a").length/6);h(".menuCon-brand").css("height",k),h(".nav .navList li").bind("mouseenter",function(){h(this).find(".quickSelect").show()}),h(".nav .navList li").bind("mouseleave",function(){h(this).find(".quickSelect").hide()}),h(".ftRight-form input").focus(function(a){var b=h.trim(h(this).val());h(this).next().hide(),"请输入您的邮箱地址"==b&&h(this).val("")}),h(".ftRight-form input").blur(function(a){""===h.trim(h(this).val())&&h(this).next().show()}),h(".ftRight-form span").click(function(a){h(this).hide(),h(this).prev().focus()}),h("#jxWeixin").mouseenter(function(){"hide"==h(this).attr("flag")?(h("#weixinCode").show(),h(this).attr("flag","show")):(h("#weixinCode").hide(),h(this).attr("flag","hide"))})}),define("../js/common/api",[],function(a,b,c){var d={};d.json_ajax=function(a){return a.body=JSON.stringify(a.body),void 0==a.async&&a.async,void 0==a.cache&&(a.cache=!0),$.Deferred(function(b){var c=JSON.parse(a.body);c.rand=(new Date).getTime();var d=$.ajax({url:a.url,type:a.type||"GET",data:c,timeout:a.timeout||5e3,dataType:"json",async:a.async,cache:a.cache,success:function(a,c,d){a||(a={}),1==a.status?b.resolve(a.data,a):b.reject(a)},error:function(a){b.reject({type:"network",msg:"加载失败，请稍后重试"})}});b.xhr=d})},d.jsonp_ajax=function(a){return a.body=JSON.stringify(a.body),void 0==a.async&&a.async,$.Deferred(function(b){var c=JSON.parse(a.body);c.rand=(new Date).getTime(),$.ajax({async:a.async,url:a.url,type:"GET",data:c,dataType:"jsonp",jsonp:"callback",timeout:a.timeout||5e3,success:function(a){b.resolve(a)},error:function(a){b.reject(a)}})})},c.exports=d});