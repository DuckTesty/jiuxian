define("../js/app/dist/index",["fastclick","zepto","template","helper","api","utility","swiper","dialog","toast","goTop","loadjs","md5","jdShare","../../tpl/page","templateNative"],function(e,t,o){function n(){var t={url:y+"/api/jz/recommend.do",body:{id:b}};u.jsonp(t).done(function(t){t||(t={});var o=(t.model||{}).value||[],o=[{hardcoverId:1437,housesName:"国风美仑",houseArea:"103",room:1,hall:3,bathroom:1,roomNum:3,recommendType:"同小区同户型",title:"北欧风情清新地中海浪漫卧室1",titlePicUrl:"../images/images/demo.jpg"},{hardcoverId:1437,housesName:"富力尚悦居",houseArea:"113",room:3,hall:2,bathroom:1,roomNum:4,recommendType:"同小区不同户型",title:"北欧风情清新地中海浪漫卧室2",titlePicUrl:"../images/images/demo.jpg"},{hardcoverId:1437,housesName:"富力尚悦居2",houseArea:"143",room:3,hall:2,bathroom:2,roomNum:5,recommendType:"同小区不同户型",title:"北欧风情清新地中海浪漫卧室3",titlePicUrl:"../images/images/demo.jpg"}],n=e("../../tpl/page"),i=e("templateNative").compile(n)({data:o});d(".more-match-box").html(i),isAddCart&&isLogin&&a()}).fail(function(e){e||(e={}),h(e.msg)})}function a(){var e={url:y+"/api/jz/getSkusByArticleIds.do",body:{id:b}};u.jsonp(e).done(function(e){e||(e={});var t=(e.model||{}).value||[];t=[{articleId:1234,name:"卧室",skuNum:2,articleAssemble:[{skuId:3431731,skuImgUrl:"../images/images/designer.png",skuName:"好事达书柜书架 简约置物架自  木质层架收纳展示好事达书柜书架 简约置物架自  木质层架收纳展示好事达书柜书架 简约置物架自  木质层架收纳展示"},{skuId:1125276,skuImgUrl:"../images/images/designer.png",skuName:"好事达书柜书架 简约置物架自  木质层架收纳展示好事达书柜书架 简约置物架自  木质层架收纳展示"}]},{articleId:1234,name:"客厅",skuNum:2,articleAssemble:[{skuId:3581605,skuImgUrl:"../images/images/designer.png",skuName:"好事达书柜书架 简约置物架自  木质层架收纳展示"},{skuId:231407,skuImgUrl:"../images/images/designer.png",skuName:"好好事达书柜书架 简约置物架自  木质层架收纳展示好事达书柜书架 简约置物架自  木质层架收纳展示好事达书柜书架 简约置物架自  木质层架收纳展示东西"}]}];var o={url:y+"/api/sales/getSalesContent.do",body:{id:b}};u.jsonp(o).done(function(e){(e={SalesPromotion:[{name:"满100减20，满200减50",type:1,satisfy:100,favorable:20},{name:"满200减50，满200减50",type:1,satisfy:200,favorable:50}]})||(e={});var o=e.SalesPromotion||[];r(t,o)})}).fail(function(e){e||(e={}),h(e.msg)})}function r(e,t){var o=[],n=0,i=0,a=[];d.each(e,function(e,t){var i=t.articleAssemble||[];n+=t.skuNum,d.each(i,function(e,t){t.skuId&&o.push(t.skuId)})}),d(".collect-box").append(m.render("cart-bottom-tpl",{skuNum:n,promotionRule:t})),d(".pop-cart-box").html(m.render("cart-list-tpl",{data:e,skuNum:n,promotionRule:t}));var r={url:"http://pm.3.cn/prices/mgets?area=&origin=2&source=20&",body:{skuids:o.join(",")}};u.jsonp(r).done(function(e){e||(e=[]),d.each(e,function(e,t){var o=t.id,n=parseFloat(t.p);a.push(n),d(".good-price[skuId='"+o+"']").find("em").text(t.p)}),i=s(a,t),d(".totalPrice").text("¥"+i)}).fail(function(e){e||(e={}),h(e.msg)})}function s(e,t){if(t&&t.length){var o=e.reduce(function(e,t){return e+t});if(1==t[0].type||3==t[0].type){var n=0;for(t.sort(function(e,t){return t.satisfy-e.satisfy}),i=0;i<t.length;i++)if(o>=t[i].satisfy){n=t[i].favorable;break}return n>0?d(".promotionPrice").text("(已省¥"+n.toFixed(2)+")").show():d(".promotionPrice").text("").hide(),(o-n).toFixed(2)}e.sort(function(e,t){return t-e});var a=t[0].satisfy,r=t[0].favorable,s=0;if(e.length>=a){for(var c=0;c<r;c++)s+=e.pop();d(".promotionPrice").text("(已免"+r+"件¥"+s+")").show()}else d(".promotionPrice").text("").hide();return e.reduce(function(e,t){return e+t}).toFixed(2)}return e.reduce(function(e,t){return e+t}).toFixed(2)}function c(){new g(".banner-slider-box",{roundLengths:!0,initialSlide:0,speed:600,slidesPerView:"auto",pagination:".banner-swiper-pagination",centeredSlides:!0,followFinger:!0,loop:!0,onInit:function(e){d(".banner-slider-box li").eq(e.activeIndex).addClass("first")},onSlideChangeStart:function(e){var t=d(".banner-slider-box li").eq(e.activeIndex);t.addClass("actived").siblings().removeClass("actived first");var o=t.find("img").attr("src"),n=t.find(".title").text(),i=t.find(".title").attr("roomId");d(".banner-slider-box").css({background:"url("+o+") no-repeat","background-size":"cover"}),d(".banner-slider-box .goto-room").attr({href:"jing-room.html?articleId="+b+"&roomId="+i}).find("span").text(n)}})}function l(e,t,o){var n={url:y+"/api/articlePraise/favArticle.do",body:{flag:e,articleId:t}};u.jsonp(n).done(function(t){text=e?"已收藏":"收藏搭配",o.toggleClass("on").find("em").text(text)}).fail(function(e){e||(e={}),h(e.msg)})}e("fastclick")(document.body);var d=e("zepto"),m=e("template");e("helper");var u=e("api"),p=e("utility"),g=e("swiper"),f=e("dialog"),h=e("toast"),v=e("goTop");e("loadjs"),e("md5"),e("jdShare");v();var b=p.parseQueryString().articleId,y="http://homeapi.jd.com",k={url:y+"/api/jz/hardcoverDetail.do",body:{id:91914,type:1},async:!1};u.jsonp(k).done(function(e){e||(e={});var t=e.model,t={baseInfo:{id:14085,labels:"",title:"北欧风情清新地中海浪漫卧室",titlePicUrl:"",articleType:"",praisecount:"",browsecount:"",summary:"每个人的户型图都不一样，我最大的改动是把门口入户花 园的墙砸掉了。和客厅打通后做了开放式的书房。其它范 围就做了一些小范围的调。",details:'<p>每个人的户型图都不一样，我最大的改动是把门口入户花</p><img src="../images/images/demo.jpg"><p>每个人的户型图都不一样，我最大的改动是把门口入户花</p><img src="../images/images/demo.jpg"><p>每个人的户型图都不一样，我最大的改动是把门口入户花</p><img src="../images/images/demo.jpg"><p>每个人的户型图都不一样，我最大的改动是把门口入户花</p><img src="../images/images/demo.jpg"><p>每个人的户型图都不一样，我最大的改动是把门口入户花</p>',writerVo:{id:33928,nickName:"绵绵的兔兔",headPicUrl:"../images/images/designer.png",roleId:1},articleVos:[{id:1,title:"客厅",titlePicUrl:"../images/images/1.jpg",content:"",threeDimensionalImgInfo:"",support3d:"",extendJson:""},{id:2,title:"卧室",titlePicUrl:"../images/images/2.jpg",content:"",threeDimensionalImgInfo:"",support3d:"",extendJson:""},{id:2,title:"厨房",titlePicUrl:"../images/images/3.jpg",content:"",threeDimensionalImgInfo:"",support3d:"",extendJson:""}],houses:{name:"国风美仑",provinceName:"",cityName:"北京",room:3,hall:2,cook:1,bathroom:1,houseImg:"../images/images/3.jpg",houseArea:"100"}},isAddCart:1,isLogin:1};isAddCart=t.isAddCart,isLogin=t.isLogin;var o=m.render("jing-detail-tpl",{data:t});d(".match-detail-page").prepend(o),c(),n()}).fail(function(e){e||(e={}),h(e.msg)}),d(".match-detail-page").delegate(".designer-detail .follow","click",function(){$this=d(this);var e="",t=d(this).attr("writerId");e=!d(this).hasClass("on");var o={url:y+"/api/attention/attentionWriter.do",body:{writerId:t,flag:e}};u.jsonp(o).done(function(t){text=e?"已关注":"关注TA",msg=e?"关注成功":"取消关注成功",$this.toggleClass("on").find("em").text(text),h(msg)}).fail(function(e){e||(e={}),h(e.msg)})}),d(".match-detail-page").delegate(".show-more-detail span","click",function(){d(".article-detail").css({"max-height":"none"}),d(".show-more-detail").remove()}),d(".match-detail-page").delegate(".collect-box .collect-btn","click",function(){$this=d(this);var e="",t=d(this).attr("articleId");(e=d(this).hasClass("on")?0:1)?l(e,t,$this):f({title:"确定要取消收藏吗?",type:"confirm",callback:function(){l(e,t,$this)}})}),d(".match-detail-page").delegate(".collect-box .show-btn","click",function(){d(".collect-box .show-btn").hide().siblings(".hide-btn").show(),d(".pop-cart-box").removeClass("todown").addClass("toup"),d(".pop-cart-mask,.pop-cart-box").show()}),d(".match-detail-page").delegate(".collect-box .hide-btn","click",function(){d(".collect-box .hide-btn").hide().siblings(".show-btn").show(),d(".pop-cart-box").removeClass("toup").addClass("todown"),setTimeout(function(){d(".pop-cart-mask,.pop-cart-box").hide()},100)})}),define("../js/common/api",["zepto"],function(e,t,o){var n=e("zepto"),i={};i.json=function(e){return e.body?e.body=JSON.stringify(e.body):e.body="{}",void 0==e.async&&(e.async=!0),void 0==e.cache&&(e.cache=!0),n.Deferred(function(t){var o=JSON.parse(e.body);o.rand=(new Date).getTime();var i=n.ajax({url:e.url,type:e.type||"GET",data:o,timeout:e.timeout||5e3,dataType:"json",async:e.async,cache:e.cache,success:function(e,o,n){e||(e={}),1==e.code?t.resolve(e.data,e):t.reject(e)},error:function(){t.reject({msg:"加载失败，请稍后重试"})}});t.xhr=i})},i.jsonp=function(e){return e.body?e.body=JSON.stringify(e.body):e.body="{}",void 0==e.async&&(e.async=!0),n.Deferred(function(t){var o=JSON.parse(e.body);o.rand=(new Date).getTime(),n.ajax({async:e.async,url:e.url,type:"GET",data:o,dataType:"jsonp",jsonp:"callback",timeout:e.timeout||5e3,success:function(e){t.resolve(e)},error:function(e){t.reject(e)}})})},o.exports=i}),define("../js/common/cookie",[],function(e,t,o){var n={};n.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var o=document.cookie.indexOf(";",t);return-1==o&&(o=document.cookie.length),decodeURI(document.cookie.substring(t,o))}}return""},n.setCookie=function(e,t,o){var n=new Date;n.setDate(n.getDate()+o),document.cookie=e+"="+encodeURI(t)+(null==o?"":";expires="+n.toUTCString())},n.checkCookie=function(){var e=n.getCookie("username");null!=e&&""!=e?alert("Welcome again "+e+"!"):null!=(e=prompt("Please enter your name:",""))&&""!=e&&n.setCookie("username",e,365)},n.deleteCookie=function(e){n.setCookie(e,"",-1)},o.exports=n}),define("../js/common/dialog",["zepto"],function(e,t,o){var n=e("zepto");return function(e){var t={title:"提示",type:"success",sureText:"确定",cancelText:"取消",callback:null},o=n.extend(t,e);if(n(".dialog-box").length)return!1;var i='<div class="pop-mask"></div><div class="dialog-box"><p class="title">'+o.title+'</p><div class="dialog-btn"><ul><li class="cancel-btn">'+o.cancelText+'</li><li class="sure-btn">'+o.sureText+"</li></ul></div></div>";n(".pop-mask, .dialog-box").remove(),n("body").append(i),$dialog=n(".dialog-box").show(),$mask=n(".pop-mask").show(),"confirm"==o.type?$dialog.find(".cancel-btn").css({display:"inline-block"}):($dialog.find(".cancel-btn").css({display:"none"}),$dialog.find(".sure-btn").addClass("only-sure-btn"));var a=function(){$dialog.remove(),$mask.remove()};n(".dialog-box .sure-btn").bind("click",function(){a(),o.callback&&"function"==typeof o.callback&&(o.callback(),"confirm"==o.type&&(o.callback=null))}),n(".dialog-box .cancel-btn").bind("click",function(){a(),o.callback=null})}}),define("../js/common/getLocation",["zepto"],function(e,t,o){var n=e("zepto");return function(){return n.Deferred(function(e){if(navigator&&navigator.geolocation){setTimeout(function(){e.reject()},2e4);try{navigator.geolocation.getCurrentPosition(function(t){var o=(t||{}).coords;e.resolve(o)},function(t){e.reject(t)},{enableHighAcuracy:!0,timeout:5e3,maximumAge:3e3})}catch(t){e.reject(t)}}else e.reject()})}}),define("../js/common/getMore",[],function(e,t,o){return function(e,t){function o(){var o=document.querySelectorAll(t),n=o.length;if(n<4)return!1;var i=o[n-2];if(i){var a=i.getBoundingClientRect(),r=window.screen.height||568,s=a.top;a.width>0&&s<r+100&&e&&e()}}clearInterval(n);var n=window.setInterval(function(){o()},200)}}),define("../js/common/goTop",[],function(e,t,o){return function(){clearInterval(t);var e=document.querySelector(".go-top");e||(e=document.createElement("div"),e.className="go-top",document.body.appendChild(e));var t=setInterval(function(){var t=document.documentElement.scrollTop||document.body.scrollTop;e.style.display=t>400?"block":"none"},500);e.onclick=function(){e.style.display="none",document.documentElement.scrollTop=document.body.scrollTop=0}}}),define("../js/common/helper",["template"],function(e,t,o){var n=e("template");return n.helper("$getWinHeight",function(){return window.innerHeight}),n.helper("$halfWinWidth",function(){return.5*window.innerWidth}),n}),define("../js/common/loadjs",["zepto"],function(e,t,o){var n=e("zepto");return function e(t,o){if(e[t]){if(e[t].done)return n.Deferred(function(e){e.resolve()});if(e[t].loading)return e[t].Deferred}return(e[t]={loading:!0,Deferred:n.Deferred(function(n){var i=document.createElement("script");if(i.src=t,o&&_.isObject(o))for(var a in o)i.setAttribute(a,o[a]);i.onload=function(){e[t].done=!0,e[t].loading=!1,e[t].Deferred=null,n.resolve()},i.onerror=function(){e[t]=null,n.reject()},document.getElementsByTagName("head")[0].appendChild(i)})}).Deferred}}),define("../js/common/share",["utility","jdShare"],function(e,t,o){var n={},i=e("utility");n.shareFromApp=function(t){t||(t={}),i.isJDApp()&&e("jdShare").setShareInfo({title:t.title||"京东家",content:t.content||"装修难不倒，家具如何挑，厨具用品哪些好，京东家问答能够解决你的这些问题。",url:"https://ihome.m.jd.com/jdj-m/ihome.html#"+(t.url||"index"),img:t.img||"https://misc.360buyimg.com/business/jdj-m/images/share.jpg",channel:"",callback:null,clickcallback:null,qrparam:null,timeline_title:""})},n.weixinShare=function(e){},o.exports=n}),define("../js/common/toast",[],function(e,t,o){return function(e,t){var o=document.querySelector(".toast-box");if(o||!e)return!1;var t=t||2e3,n=document.createElement("div");n.className="toast-box";var i=document.createElement("p");i.className="toast-msg",i.innerHTML=e,n.appendChild(i),document.body.appendChild(n),setTimeout(function(){var e=document.querySelector(".toast-box");document.body.removeChild(e)},t)}}),define("../js/common/utility",[],function(e,t,o){function n(e){return(e=a.parseInt_10(e))<10&&(e="0"+e),e}function i(){for(var e=["","-webkit-","-ms-","-moz-","-o-"],t="",o=0;o<e.length;o++)t+="position:"+e[o]+"sticky;";var n=document.createElement("div"),i=document.body;n.style.cssText="display:none;"+t,i.appendChild(n);var a=/sticky/i.test(window.getComputedStyle(n).position);return i.removeChild(n),n=null,a}var a={};a.currentUrl=location.protocol+"//"+location.host+location.pathname,a.isMobile=function(e){return/^0?1(3|4|5|7|8)\d{9}$/.test((e||"").toString().trim())},a.getUserAgent=function(){return(navigator.userAgent||"").toLowerCase()},a.parseInt_10=function(e){return parseInt(e,10)},a.parseFloat_10=function(e){return parseFloat(e,10)},a.JSONparse=function(e){if("string"!=typeof e)return"";try{return JSON.parse(e)}catch(e){return""}},a.getTime=function(){return(new Date).getTime()},a.random=function(e,t){return e+Math.floor(t*Math.random())},a.parseQueryString=function(){for(var e={},t=location.search.substring(1).split("&"),o=t.length,n=0;n<o;n++){var i=t[n].split("=");e[i[0]]=i[1]}return e},a.checkRegEmoji=function(e){return/^[^\uD800-\uDBFF]+$/.test((e||"").toString().trim())},a.houMinSec=function(e){var t=parseInt(e/3600),o=parseInt(e%60),i=parseInt((e-60*t*60)/60);return{hh:n(t),mm:n(i),ss:n(o)}},a.createCode=function(){for(var e="",t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o=0;o<6;o++)e+=t[Math.floor(36*Math.random())];return e};var r=!1;try{sessionStorage.setItem("1","1"),r=!0}catch(e){}var s={data:{},getItem:function(e){return r?a.JSONparse(sessionStorage.getItem(e)):s.data[e]},setItem:function(e,t){r?sessionStorage.setItem(e,JSON.stringify(t)):s.data[e]=t},removeItem:function(e){r?sessionStorage.removeItem(e):delete s.data[e]}};a.sessionstate=s,a.isJDApp=function(){return"jdapp"==a.getUserAgent().split(";")[0].toLowerCase()},a.isJDios=function(){var e=a.getUserAgent().split(";"),t="";return a.isJDApp()&&(t="iphone"==e[1].toLowerCase()),t},a.isJDandroid=function(){var e=a.getUserAgent().split(";"),t="";return a.isJDApp()&&(t="android"==e[1].toLowerCase()),t},a.stickyDom=function(e){var t;if(!e)return!1;var o=e.normalDom.get(0),n=e.fixedDom.get(0),a=e.fixedTop||0;if(!e.normalDom||!e.fixedDom||0==o.length||0==n.length)return!1;i()?o.className=o.className+" sticky":(clearInterval(t),t=setInterval(function(){o.getBoundingClientRect().top<=a?(n.style.display="block",o.style.opacity=0):(n.style.display="none",o.style.opacity=1)},100))},o.exports=a}),define("../js/tpl/page",[],function(e,t,o){return'<p class="more-title"><span>更多搭配</span><img src="../images/moreMatch.png"></p><ul><% for (var i = 0; i < data.length; i ++) { %>    <li>        <a href="demo.html?articleId=<%= data[i].hardcoverId %> ">          <img src="<%= data[i].titlePicUrl %>">          <span class="tag-type"><%= data[i].recommendType %> </span>          <div class="match-des">              <p class="article-title"><%= data[i].title %></p>              <p class="house-type">                  <span class="border-r"><% if (data[i].room) { %> <em><%= data[i].room %> 室</em><% } %> <% if (data[i].hall) { %> <em><%= data[i].hall %> 厅</em><% } %> <% if (data[i].bathroom) { %> <em><%= data[i].bathroom %> 卫</em><% } %> </span>                  <% if (data[i].houseArea) { %> <span><%= data[i].houseArea %> m²</span><% } %>               </p>              <% if (data[i].roomNum) { %> <em class="room-number"><%= data[i].roomNum %> 个空间</em><% } %>           </div>        </a>    </li><% } %> </ul>'});