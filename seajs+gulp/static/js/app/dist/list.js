define("../js/app/dist/list",["fastclick","zepto","template","api","toast","helper","goTop","getMore","utility","share"],function(e,t,i){function s(){if(v||!f)return!1;v=!0,o({type:1,page:c,pageSize:y},function(e){return 1===c&&a(),1===c&&e.length<y&&u(".question-list-new .load-more-status").hide(),1===c&&0===e.length?(u(".question-list-new").html(r.render("qa-list-empty-tpl",{})),v=!1,!1):0===e.length?(f=!1,u(".question-list-new .load-more-status").removeClass("show-status").text("已经到底啦"),!1):(u(".question-list-new ul").append(r.render("question-item-tpl",{result:e})),void(v=!1))})}function n(){if(isLoading2||!hasNextPage2)return!1;isLoading2=!0,o({type:2,page:pageNumber2,pageSize:y},function(e){return 1===pageNumber2&&e.length<y&&u(".question-list-hot .load-more-status").hide(),1===pageNumber2&&0===e.length?(u(".question-list-hot").html(r.render("qa-list-empty-tpl",{})),isLoading2=!1,!1):0===e.length?(hasNextPage2=!1,u(".question-list-hot .load-more-status").removeClass("show-status").text("已经到底啦"),!1):(u(".question-list-hot ul").append(r.render("question-item-tpl",{result:e})),void(isLoading2=!1))})}function o(e,t){var e={url:b+"/qaList/qaList",body:{type:e.type,page:e.page,size:e.pageSize}};g.json(e).done(function(e){e||(e=[]),t(e)}).fail(function(e){e||(e={}),p(e.msg)})}function l(){if(isLoading3||!hasNextPage3)return!1;isLoading3=!0,o({type:3,page:pageNumber3,pageSize:y},function(e){return 1===pageNumber3&&e.length<y&&u(".question-list-useful .load-more-status").hide(),1===pageNumber3&&0===e.length?(u(".question-list-useful").html(r.render("qa-list-empty-tpl",{})),isLoading3=!1,!1):0===e.length?(hasNextPage3=!1,u(".question-list-useful .load-more-status").removeClass("show-status").text("已经到底啦"),!1):(u(".question-list-useful ul").append(r.render("question-item-tpl",{result:e})),void(isLoading3=!1))})}function a(){var e={url:b+"/qaList/activeResponsers"};g.json(e).done(function(e){e||(e=[]),u(".question-list-new li").eq(4).after(r.render("invite-question-tpl",{result:e}))}).fail(function(e){})}e("fastclick")(document.body);var u=e("zepto"),r=e("template"),g=e("api"),p=e("toast");e("helper");var d=e("goTop"),m=e("getMore"),h=e("utility"),q=e("share"),c=pageNumber2=pageNumber3=1,f=hasNextPage2=hasNextPage3=!0,v=isLoading2=isLoading3=!1,y=10,b="//ihome.m.jd.com";u(".list-page").html(r.render("loading-page-tpl",{loading:!0})),d(),q.shareFromApp({title:"京东家-问答",content:"每个人在装修前都很迷茫，这里，能够解决你的困惑。",url:"questionList",img:"https://misc.360buyimg.com/business/jdj-m/images/share2.jpg"}),u("body").delegate(".question-type-box li","click",function(e){var t=u(e.currentTarget).index();u(".question-list-type li").eq(t).addClass("on").siblings().removeClass("on"),u(".question-list-type-fixed li").eq(t).addClass("on").siblings().removeClass("on"),u(".question-list>div").hide(),u(".question-list>div").eq(t).show();var i=u(".question-banner").height();1===t&&0===u(".question-list-hot li").length?(n(),u(window).scrollTop(i)):2===t&&0===u(".question-list-useful li").length&&(l(),u(window).scrollTop(i))}),function(){var e={url:b+"/qaList/newestQuestion"};g.json(e).done(function(e){e||(e={});var t=r.render("question-list-tpl",{result:e});u(".list-page").html(t),s(),h.stickyDom({normalDom:u(".question-list-type"),fixedDom:u(".question-list-type-fixed")})}).fail(function(e){e||(e={}),p(e.msg),window.location.href="error.html"})}(),m(function(){console.log(1),f&&!v&&(c++,s())},".question-list-new li"),m(function(){console.log(2),hasNextPage2&&!isLoading2&&(pageNumber2++,n())},".question-list-hot li"),m(function(){console.log(3),hasNextPage3&&!isLoading3&&(pageNumber3++,l())},".question-list-useful li")});